const t=window.App.h;t("mu-svg-screen",{width:0,height:0,src:""});class e{render(){return t("main",null,t("stencil-router",null,t("stencil-route-switch",{scrollTopOffset:0},t("stencil-route",{url:"/",component:"mu-svg-screen",exact:!0,componentProps:{src:"../../assets/home.png",width:712,height:2883,links:[t("a",{href:"#menu"},t("rect",{height:"88.88889",id:"menu",width:"122.222222",x:"571.555639",y:"13.33332"})),t("a",{href:"#map"},t("rect",{height:"1027.999971",id:"map",width:"678.333289",x:"14.33342",y:"111.44443"})),t("a",{href:"#restaurants"},t("rect",{height:"285",id:"restaurants",width:"682",x:"11",y:"1152.5"})),t("a",{href:"/restaurant/test"},t("rect",{height:"334",id:"restaurant-test",width:"683",x:"10",y:"1449.5"})),t("a",{href:"#activities"},t("rect",{height:"270",id:"activities",width:"686",x:"14",y:"1996.5"})),t("a",{href:"/activity/test"},t("rect",{height:"342",id:"activity-test",width:"689",x:"13",y:"2274.5"}))]}}),t("stencil-route",{url:"/restaurant/:name",component:"mu-svg-screen",componentProps:{src:"../../assets/restaurant.png",width:689,height:2160,links:[t("a",{href:"#menu"},t("rect",{height:"84",id:"menu",width:"91",x:"589",y:"28"})),t("a",{href:"#picture"},t("rect",{height:"379",id:"picture",width:"663",x:"17",y:"750"})),t("a",{href:"#map"},t("rect",{height:"335",id:"map",width:"665",x:"18",y:"1371"})),t("a",{href:"#book"},t("rect",{height:"107",id:"book",width:"577",x:"56",y:"1999"}))]}}),t("stencil-route",{url:"/activity/:name",component:"mu-svg-screen",componentProps:{src:"../../assets/activity.png",width:694,height:1931,links:[t("a",{href:"#menu"},t("rect",{height:"91",id:"menu",width:"84",x:"600.5",y:"16.5"})),t("a",{href:"#picture"},t("rect",{height:"328",id:"picture",width:"668",x:"16.5",y:"761.5"})),t("a",{href:"#map"},t("rect",{height:"382",id:"map",width:"667",x:"14.5",y:"1342.5"})),t("a",{href:"#book"},t("rect",{height:"102",id:"book",width:"569",x:"62.5",y:"1776.5"}))]}}))))}static get is(){return"app-root"}static get encapsulation(){return"shadow"}static get style(){return""}}class n{constructor(){this.links=[]}onClick(t){this.history&&(this.history.push(t.currentTarget.getAttribute("href")),t.preventDefault())}render(){return t("svg",{style:{backgroundImage:"url("+this.src+")"},viewBox:[0,0,this.width,this.height].join(" "),xmlns:"http://www.w3.org/2000/svg"},this.links.map(e=>{let n;switch(e.type){case"circle":n=t("a",{href:e.href,onClick:t=>this.onClick(t)},t("circle",{cx:e.cx,cy:e.cy,r:e.r}));break;case"rect":n=t("a",{href:e.href,onClick:t=>this.onClick(t)},t("rect",{width:e.width,height:e.height,x:e.x,y:e.y}));break;default:(n=e).vattrs.onClick=(t=>this.onClick(t))}return n}))}static get is(){return"mu-svg-screen"}static get encapsulation(){return"shadow"}static get properties(){return{height:{type:Number,attr:"height"},history:{type:"Any",attr:"history"},links:{type:"Any",attr:"links"},src:{type:String,attr:"src"},width:{type:Number,attr:"width"}}}static get style(){return"svg.sc-mu-svg-screen{background-size:100% 100%;background-repeat:no-repeat}a.sc-mu-svg-screen:focus, a.sc-mu-svg-screen:hover{outline:none}a.sc-mu-svg-screen:focus   circle.sc-mu-svg-screen, a.sc-mu-svg-screen:focus   path.sc-mu-svg-screen, a.sc-mu-svg-screen:focus   rect.sc-mu-svg-screen, a.sc-mu-svg-screen:hover   circle.sc-mu-svg-screen, a.sc-mu-svg-screen:hover   path.sc-mu-svg-screen, a.sc-mu-svg-screen:hover   rect.sc-mu-svg-screen{fill:rgba(30,222,121,.25);cursor:pointer}circle.sc-mu-svg-screen, path.sc-mu-svg-screen, rect.sc-mu-svg-screen{fill:transparent;cursor:pointer;-webkit-transition:fill .2s;transition:fill .2s}"}}var o="/",r="./",i=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function s(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function a(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function c(t){return t&&t.sensitive?"":"i"}function h(t,e,n){return t instanceof RegExp?function(t,e){if(!e)return t;var n=t.source.match(/\((?!\?)/g);if(n)for(var o=0;o<n.length;o++)e.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return t}(t,e):Array.isArray(t)?function(t,e,n){for(var o=[],r=0;r<t.length;r++)o.push(h(t[r],e,n).source);return new RegExp("(?:"+o.join("|")+")",c(n))}(t,e,n):function(t,e,n){return function(t,e,n){for(var i=(n=n||{}).strict,a=!1!==n.end,h=s(n.delimiter||o),l=n.delimiters||r,u=[].concat(n.endsWith||[]).map(s).concat("$").join("|"),p="",d=!1,f=0;f<t.length;f++){var y=t[f];if("string"==typeof y)p+=s(y),d=f===t.length-1&&l.indexOf(y[y.length-1])>-1;else{var g=s(y.prefix||""),m=y.repeat?"(?:"+y.pattern+")(?:"+g+"(?:"+y.pattern+"))*":y.pattern;e&&e.push(y),p+=y.optional?y.partial?g+"("+m+")?":"(?:"+g+"("+m+"))?":g+"("+m+")"}}return a?(i||(p+="(?:"+h+")?"),p+="$"===u?"$":"(?="+u+")"):(i||(p+="(?:"+h+"(?="+u+"))?"),d||(p+="(?="+h+"|"+u+")")),new RegExp("^"+p,c(n))}(function(t,e){for(var n,c=[],h=0,l=0,u="",p=e&&e.delimiter||o,d=e&&e.delimiters||r,f=!1;null!==(n=i.exec(t));){var y=n[0],g=n[1],m=n.index;if(u+=t.slice(l,m),l=m+y.length,g)u+=g[1],f=!0;else{var w="",v=t[l],b=n[2],x=n[3],O=n[4],k=n[5];if(!f&&u.length){var P=u.length-1;d.indexOf(u[P])>-1&&(w=u[P],u=u.slice(0,P))}u&&(c.push(u),u="",f=!1);var T=w||p,A=x||O;c.push({name:b||h++,prefix:w,delimiter:T,optional:"?"===k||"*"===k,repeat:"+"===k||"*"===k,partial:""!==w&&void 0!==v&&v!==w,pattern:A?a(A):"[^"+s(T)+"]+?"})}}return(u||l<t.length)&&c.push(u+t.substr(l)),c}(t,n),e,n)}(t,e,n)}function l(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)}function u(t,e){return l(t,e)?t.substr(e.length):t}function p(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function d(t){return"/"===t.charAt(0)?t:"/"+t}function f(t){return"/"===t.charAt(0)?t.substr(1):t}function y(t){const{pathname:e,search:n,hash:o}=t;let r=e||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:`?${n}`),o&&"#"!==o&&(r+="#"===o.charAt(0)?o:`#${o}`),r}function g(t){return"/"===t.charAt(0)}function m(t){return Math.random().toString(36).substr(2,t)}function w(t,e){for(let n=e,o=n+1,r=t.length;o<r;n+=1,o+=1)t[n]=t[o];t.pop()}function v(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(t,n){return v(t,e[n])});const n=typeof t;if(n!==typeof e)return!1;if("object"===n){const n=t.valueOf(),o=e.valueOf();if(n!==t||o!==e)return v(n,o);const r=Object.keys(t),i=Object.keys(e);return r.length===i.length&&r.every(function(n){return v(t[n],e[n])})}return!1}function b(t,e,n,o){let r;"string"==typeof t?void 0!==(r=function(t){let e=t||"/",n="",o="";const r=e.indexOf("#");-1!==r&&(o=e.substr(r),e=e.substr(0,r));const i=e.indexOf("?");return-1!==i&&(n=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===n?"":n,hash:"#"===o?"":o,query:{},key:""}}(t)).state&&(r.state=e):((r=Object.assign({pathname:""},t)).search&&"?"!==r.search.charAt(0)&&(r.search="?"+r.search),r.hash&&"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash),void 0!==e&&void 0===r.state&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}var i;return r.key=n,o?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=function(t,e=""){const n=t&&t.split("/")||[];let o=e&&e.split("/")||[];const r=t&&g(t),i=e&&g(e),s=r||i;if(t&&g(t)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";let a;if(o.length){const t=o[o.length-1];a="."===t||".."===t||""===t}else a=!1;let c=0;for(let t=o.length;t>=0;t--){const e=o[t];"."===e?w(o,t):".."===e?(w(o,t),c++):c&&(w(o,t),c--)}if(!s)for(;c--;c)o.unshift("..");!s||""===o[0]||o[0]&&g(o[0])||o.unshift("");let h=o.join("/");return a&&"/"!==h.substr(-1)&&(h+="/"),h}(r.pathname,o.pathname)):r.pathname=o.pathname:r.pathname||(r.pathname="/"),r.query=(i=r.search||"")?(/^[?#]/.test(i)?i.slice(1):i).split("&").reduce((t,e)=>{let[n,o]=e.split("=");return t[n]=o?decodeURIComponent(o.replace(/\+/g," ")):"",t},{}):{},r}const x={},O=1e4;let k=0;function P(t,e={}){"string"==typeof e&&(e={path:e});const{path:n="/",exact:o=!1,strict:r=!1}=e,{re:i,keys:s}=function(t,e){const n=`${e.end}${e.strict}`,o=x[n]||(x[n]={}),r=JSON.stringify(t);if(o[r])return o[r];const i=[],s={re:h(t,i,e),keys:i};return k<O&&(o[r]=s,k+=1),s}(n,{end:o,strict:r}),a=i.exec(t);if(!a)return null;const[c,...l]=a,u=t===c;return o&&!u?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:u,params:s.reduce((t,e,n)=>(t[e.name]=l[n],t),{})}}function T(t,e){for(var n,o,r=null,i=!1,s=!1,a=arguments.length;a-- >2;)S.push(arguments[a]);for(;S.length>0;){var c=S.pop();if(c&&void 0!==c.pop)for(a=c.length;a--;)S.push(c[a]);else"boolean"==typeof c&&(c=null),(s="function"!=typeof t)&&(null==c?c="":"number"==typeof c?c=String(c):"string"!=typeof c&&(s=!1)),s&&i?r[r.length-1].vtext+=c:null===r?r=[s?{vtext:c}:c]:r.push(s?{vtext:c}:c),i=s}if(null!=e){if(e.className&&(e.class=e.className),"object"==typeof e.class){for(a in e.class)e.class[a]&&S.push(a);e.class=S.join(" "),S.length=0}null!=e.key&&(n=e.key),null!=e.name&&(o=e.name)}return"function"==typeof t?t(e,r||[],E):{vtag:t,vchildren:r,vtext:void 0,vattrs:e,vkey:n,vname:o,w:void 0,g:!1}}function A(t){return{vtag:t.vtag,vchildren:t.vchildren,vtext:t.vtext,vattrs:t.vattrs,vkey:t.vkey,vname:t.vname}}Object.setPrototypeOf||Array;var S=[],E={forEach:function(t,e){t.forEach(function(t,n,o){return e(A(t),n,o)})},map:function(t,e){return t.map(function(t,n,o){return function(t){return{vtag:t.vtag,vchildren:t.vchildren,vtext:t.vtext,vattrs:t.vattrs,vkey:t.vkey,vname:t.vname}}(e(A(t),n,o))})}};function U(t,e){return T("context-consumer",{subscribe:t,renderer:e})}var j=function(t,e){void 0===e&&(e=U);var n=new Map,o={historyType:"browser",location:{pathname:"",query:{},key:""},titleSuffix:"",root:"/",routeViewsUpdated:()=>{}};function r(t,e){Array.isArray(t)?t.slice().forEach(function(t){e[t]=o[t]}):e[t]=Object.assign({},o),e.forceUpdate()}function i(t){return function(e){n.has(e)||(n.set(e,t),r(t,e))}}function s(t,e){return i(e)(t),function(){n.delete(t)}}return{Provider:function(t,e){return o=t.state,n.forEach(r),e},Consumer:function(t,n){return e(s,n[0])},wrapConsumer:function(t,e){var n=t.is;return function(t){var o=t.children,r=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]])}return n}(t,["children"]);return T(n,Object.assign({ref:i(e)},r),o)}},injectProps:function(t,e){var n=null,o=Object.keys(t.properties).find(function(e){return 1==t.properties[e].elementRef});if(null==o)throw new Error("Please ensure that your Component "+t.is+' has an attribute with an "@Element" decorator. This is required to be able to inject properties.');var r=t.prototype.componentWillLoad;t.prototype.componentWillLoad=function(){if(n=s(this[o],e),r)return r.bind(this)()};var i=t.prototype.componentDidUnload;t.prototype.componentDidUnload=function(){if(n(),i)return i.bind(this)()}}}}(),R=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}c((o=o.apply(t,e||[])).next())})};class L{constructor(){this.group=null,this.match=null,this.componentProps={},this.exact=!1,this.scrollOnNextRender=!1,this.previousMatch=null}computeMatch(t){const e=null!=this.group||null!=this.el.parentElement&&"stencil-route-switch"===this.el.parentElement.tagName.toLowerCase();if(t&&!e)return this.previousMatch=this.match,this.match=P(t.pathname,{path:this.url,exact:this.exact,strict:!0})}loadCompleted(){return R(this,void 0,void 0,function*(){let t={};var e,n;this.history&&this.history.location.hash?t={scrollToId:this.history.location.hash.substr(1)}:this.scrollTopOffset&&(t={scrollTopOffset:this.scrollTopOffset}),"function"==typeof this.componentUpdated?this.componentUpdated(t):!this.match||(n=this.previousMatch,null==(e=this.match)&&null==n||null!=n&&e&&n&&e.path===n.path&&e.url===n.url&&v(e.params,n.params))||!this.routeViewsUpdated||this.routeViewsUpdated(t)})}componentDidUpdate(){return R(this,void 0,void 0,function*(){yield this.loadCompleted()})}componentDidLoad(){return R(this,void 0,void 0,function*(){yield this.loadCompleted()})}render(){if(!this.match||!this.history)return null;const e=Object.assign({},this.componentProps,{history:this.history,match:this.match});return this.routeRender?this.routeRender(Object.assign({},e,{component:this.component})):this.component?t(this.component,Object.assign({},e)):void 0}static get is(){return"stencil-route"}static get properties(){return{component:{type:String,attr:"component"},componentProps:{type:"Any",attr:"component-props"},componentUpdated:{type:"Any",attr:"component-updated"},el:{elementRef:!0},exact:{type:Boolean,attr:"exact"},group:{type:String,attr:"group",reflectToAttr:!0},history:{type:"Any",attr:"history"},historyType:{type:String,attr:"history-type"},location:{type:"Any",attr:"location",watchCallbacks:["computeMatch"]},match:{type:"Any",attr:"match",mutable:!0},routeRender:{type:"Any",attr:"route-render"},routeViewsUpdated:{type:"Any",attr:"route-views-updated"},scrollTopOffset:{type:Number,attr:"scroll-top-offset"},url:{type:String,attr:"url"}}}static get style(){return"stencil-route.inactive{display:none}"}}j.injectProps(L,["location","history","historyType","routeViewsUpdated"]);var C=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}c((o=o.apply(t,e||[])).next())})};function I(t){return"stencil-route"===t.tagName.toLocaleLowerCase()}class M{constructor(){this.group=window.crypto?([1e7].toString()+-1e3.toString()+-4e3.toString()+-8e3.toString()+-1e11.toString()).replace(/[018]/g,function(t){return(t^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}):((1e17*Math.random()).toString().match(/.{4}/g)||[]).join("-"),this.subscribers=[]}componentWillLoad(){null!=this.location&&this.regenerateSubscribers(this.location)}regenerateSubscribers(t){return C(this,void 0,void 0,function*(){if(null==t)return;let e=-1;if(this.subscribers=Array.prototype.slice.call(this.el.children).filter(I).map((n,o)=>{const r=function(e,o,r){return P(t.pathname,{path:n.url,exact:n.exact,strict:!0})}();return r&&-1===e&&(e=o),{el:n,match:r}}),-1===e)return;if(this.activeIndex===e)return void(this.subscribers[e].el.match=this.subscribers[e].match);this.activeIndex=e;const n=this.subscribers[this.activeIndex];this.scrollTopOffset&&(n.el.scrollTopOffset=this.scrollTopOffset),n.el.group=this.group,n.el.match=n.match,n.el.componentUpdated=(t=>{this.queue.write(()=>{this.subscribers.forEach((t,e)=>{if(t.el.componentUpdated=void 0,e===this.activeIndex)return t.el.style.display="";this.scrollTopOffset&&(t.el.scrollTopOffset=this.scrollTopOffset),t.el.group=this.group,t.el.match=null,t.el.style.display="none"})}),this.routeViewsUpdated&&this.routeViewsUpdated(Object.assign({scrollTopOffset:this.scrollTopOffset},t))})})}render(){return t("slot",null)}static get is(){return"stencil-route-switch"}static get properties(){return{el:{elementRef:!0},group:{type:String,attr:"group",reflectToAttr:!0},location:{type:"Any",attr:"location",watchCallbacks:["regenerateSubscribers"]},queue:{context:"queue"},routeViewsUpdated:{type:"Any",attr:"route-views-updated"},scrollTopOffset:{type:Number,attr:"scroll-top-offset"}}}}function H(t,...e){t||console.error(...e)}function N(t,...e){t||console.warn(...e)}j.injectProps(M,["location","routeViewsUpdated"]);const V=()=>{let t,e=[];return{setPrompt:e=>(N(null==t,"A history supports only one prompt at a time"),t=e,()=>{t===e&&(t=null)}),confirmTransitionTo:(e,n,o,r)=>{if(null!=t){const i="function"==typeof t?t(e,n):t;"string"==typeof i?"function"==typeof o?o(i,r):(N(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==i)}else r(!0)},appendListener:t=>{let n=!0;const o=(...e)=>{n&&t(...e)};return e.push(o),()=>{n=!1,e=e.filter(t=>t!==o)}},notifyListeners:(...t)=>{e.forEach(e=>e(...t))}}},$=!("undefined"==typeof window||!window.document||!window.document.createElement),q=(t,e,n)=>t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n),D=(t,e,n)=>t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n),_=(t,e)=>e(window.confirm(t)),B=t=>{var e=window[t],n="__storage_test__";try{return e.setItem(n,n),e.removeItem(n),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==e.length}},W=(t="scrollPositions")=>{let e=new Map;if(B("sessionStorage")){const n=window.sessionStorage.getItem(t);e=n?new Map(JSON.parse(n)):e}function n(t,n){if(e.set(t,n),B("sessionStorage")){const t=[];e.forEach((e,n)=>{t.push([n,e])}),window.sessionStorage.setItem("scrollPositions",JSON.stringify(t))}}return"scrollRestoration"in history&&(history.scrollRestoration="manual"),{set:n,get:function(t){return e.get(t)},has:function(t){return e.has(t)},capture:function(t){n(t,[window.scrollX,window.scrollY])}}},Y=()=>{try{return window.history.state||{}}catch(t){return{}}},F={hashbang:{encodePath:t=>"!"===t.charAt(0)?t:"!/"+f(t),decodePath:t=>"!"===t.charAt(0)?t.substr(1):t},noslash:{encodePath:f,decodePath:d},slash:{encodePath:d,decodePath:d}},J=()=>{const t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},Q=t=>{const e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)};var X=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}c((o=o.apply(t,e||[])).next())})};function z(t,e){const n=0==t.pathname.indexOf(e)?"/"+t.pathname.slice(e.length):t.pathname;return Object.assign({},t,{pathname:n})}const G={browser:(t={})=>{H($,"Browser history needs a DOM");const e=window.history,n=(()=>{const t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history})(),o=!(()=>-1===window.navigator.userAgent.indexOf("Trident"))(),r=W(),i=null!=t.forceRefresh&&t.forceRefresh,s=null!=t.getUserConfirmation?t.getUserConfirmation:_,a=null!=t.keyLength?t.keyLength:6,c=t.basename?p(d(t.basename)):"",h=t=>{t=t||{};const{key:e,state:n}=t,{pathname:o,search:r,hash:i}=window.location;let s=o+r+i;return N(!c||l(s,c),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+s+'" to begin with "'+c+'".'),c&&(s=u(s,c)),b(s,n,e||m(a))},f=V(),g=t=>{r.capture(R.location.key),Object.assign(R,t),R.location.scrollPosition=r.get(R.location.key),R.length=e.length,f.notifyListeners(R.location,R.action)},w=t=>{(t=>void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS"))(t)||O(h(t.state))},v=()=>{O(h(Y()))};let x=!1;const O=t=>{if(x)x=!1,g();else{const e="POP";f.confirmTransitionTo(t,e,s,n=>{n?g({action:e,location:t}):k(t)})}},k=t=>{let e=T.indexOf(R.location.key);-1===e&&(e=0);let n=T.indexOf(t.key);-1===n&&(n=0);const o=e-n;o&&(x=!0,S(o))},P=h(Y());let T=[P.key];const A=t=>c+y(t),S=t=>{e.go(t)};let E=0;const U=t=>{1===(E+=t)?(q(window,"popstate",w),o&&q(window,"hashchange",v)):0===E&&(D(window,"popstate",w),o&&D(window,"hashchange",v))};let j=!1;const R={length:e.length,action:"POP",location:P,createHref:A,push:(t,o)=>{N(!("object"==typeof t&&void 0!==t.state&&void 0!==o),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");const r=b(t,o,m(a),R.location);f.confirmTransitionTo(r,"PUSH",s,t=>{if(!t)return;const o=A(r),{key:s,state:a}=r;if(n)if(e.pushState({key:s,state:a},void 0,o),i)window.location.href=o;else{const t=T.indexOf(R.location.key),e=T.slice(0,-1===t?0:t+1);e.push(r.key),T=e,g({action:"PUSH",location:r})}else N(void 0===a,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=o})},replace:(t,o)=>{N(!("object"==typeof t&&void 0!==t.state&&void 0!==o),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");const r=b(t,o,m(a),R.location);f.confirmTransitionTo(r,"REPLACE",s,t=>{if(!t)return;const o=A(r),{key:s,state:a}=r;if(n)if(e.replaceState({key:s,state:a},void 0,o),i)window.location.replace(o);else{const t=T.indexOf(R.location.key);-1!==t&&(T[t]=r.key),g({action:"REPLACE",location:r})}else N(void 0===a,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(o)})},go:S,goBack:()=>S(-1),goForward:()=>S(1),block:(t="")=>{const e=f.setPrompt(t);return j||(U(1),j=!0),()=>(j&&(j=!1,U(-1)),e())},listen:t=>{const e=f.appendListener(t);return U(1),()=>{U(-1),e()}}};return R},hash:(t={})=>{H($,"Hash history needs a DOM");const e=window.history,n=(()=>-1===window.navigator.userAgent.indexOf("Firefox"))(),o=null!=t.keyLength?t.keyLength:6,{getUserConfirmation:r=_,hashType:i="slash"}=t,s=t.basename?p(d(t.basename)):"",{encodePath:a,decodePath:c}=F[i],h=()=>{let t=c(J());return N(!s||l(t,s),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+s+'".'),s&&(t=u(t,s)),b(t,void 0,m(o))},f=V(),g=t=>{Object.assign(C,t),C.length=e.length,f.notifyListeners(C.location,C.action)};let w=!1,x=null;const O=()=>{const t=J(),e=a(t);if(t!==e)Q(e);else{const t=h(),e=C.location;if(!w&&function(n,o){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&v(e.state,t.state)}())return;if(x===y(t))return;x=null,k(t)}},k=t=>{if(w)w=!1,g();else{const e="POP";f.confirmTransitionTo(t,e,r,n=>{n?g({action:e,location:t}):P(t)})}},P=t=>{let e=E.lastIndexOf(y(C.location));-1===e&&(e=0);let n=E.lastIndexOf(y(t));-1===n&&(n=0);const o=e-n;o&&(w=!0,U(o))},T=J(),A=a(T);T!==A&&Q(A);const S=h();let E=[y(S)];const U=t=>{N(n,"Hash history go(n) causes a full page reload in this browser"),e.go(t)};let j=0;const R=t=>{1===(j+=t)?q(window,"hashchange",O):0===j&&D(window,"hashchange",O)};let L=!1;const C={length:e.length,action:"POP",location:S,createHref:t=>"#"+a(s+y(t)),push:(t,e)=>{N(void 0===e,"Hash history cannot push state; it is ignored");const n=b(t,void 0,m(o),C.location);f.confirmTransitionTo(n,"PUSH",r,t=>{if(!t)return;const e=y(n),o=a(s+e);if(J()!==o){x=e,(t=>window.location.hash=t)(o);const t=E.lastIndexOf(y(C.location)),r=E.slice(0,-1===t?0:t+1);r.push(e),E=r,g({action:"PUSH",location:n})}else N(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),g()})},replace:(t,e)=>{N(void 0===e,"Hash history cannot replace state; it is ignored");const n=b(t,void 0,m(o),C.location);f.confirmTransitionTo(n,"REPLACE",r,t=>{if(!t)return;const e=y(n),o=a(s+e);J()!==o&&(x=e,Q(o));const r=E.indexOf(y(C.location));-1!==r&&(E[r]=e),g({action:"REPLACE",location:n})})},go:U,goBack:()=>U(-1),goForward:()=>U(1),block:(t="")=>{const e=f.setPrompt(t);return L||(R(1),L=!0),()=>(L&&(L=!1,R(-1)),e())},listen:t=>{const e=f.appendListener(t);return R(1),()=>{R(-1),e()}}};return C}};class K{constructor(){this.root="/",this.historyType="browser",this.titleSuffix="",this.routeViewsUpdated=((t={})=>{if(t.scrollToId&&"browser"===this.historyType){const e=document.getElementById(t.scrollToId);if(e)return e.scrollIntoView()}this.scrollTo(t.scrollTopOffset||this.scrollTopOffset)})}componentWillLoad(){this.history=G[this.historyType](),this.history.listen(t=>X(this,void 0,void 0,function*(){t=z(t,this.root),this.location=t})),this.location=z(this.history.location,this.root)}scrollTo(t){if(null!=t&&!this.isServer&&this.history)return"POP"===this.history.action&&Array.isArray(this.history.location.scrollPosition)?this.queue.write(()=>{this.history&&this.history.location&&Array.isArray(this.history.location.scrollPosition)&&window.scrollTo(this.history.location.scrollPosition[0],this.history.location.scrollPosition[1])}):this.queue.write(()=>{window.scrollTo(0,t)})}render(){if(this.location&&this.history)return t(j.Provider,{state:{historyType:this.historyType,location:this.location,titleSuffix:this.titleSuffix,root:this.root,history:this.history,routeViewsUpdated:this.routeViewsUpdated}},t("slot",null))}static get is(){return"stencil-router"}static get properties(){return{history:{state:!0},historyType:{type:String,attr:"history-type"},isServer:{context:"isServer"},location:{state:!0},queue:{context:"queue"},root:{type:String,attr:"root"},scrollTopOffset:{type:Number,attr:"scroll-top-offset"},titleSuffix:{type:String,attr:"title-suffix"}}}}export{e as AppRoot,n as MuSvgScreen,L as StencilRoute,M as StencilRouteSwitch,K as StencilRouter};